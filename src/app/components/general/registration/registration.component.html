<div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="start" fxLayout.lg="row" fxLayoutGap.xs="0">
    <div class="registration-card" *ngIf="!forVerification && hide">
        <mat-card>
            <mat-card-header>
                <mat-card-title>Register for an account</mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content>
                <form [formGroup]="registrationForm" (ngSubmit)="register()">
                    <br/>
                    <mat-card-subtitle>Personal Information</mat-card-subtitle>

                    <div class="form-control">
                        <mat-form-field>
                            <input matInput placeholder="First Name" type="text" formControlName="firstName" required />
                            <mat-error *ngIf="registrationForm.controls['firstName'].hasError('required')">Username is required.</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="form-control">
                        <mat-form-field>
                            <input matInput placeholder="Last Name" type="text" formControlName="lastName" required />
                            <mat-error *ngIf="registrationForm.controls['lastName'].hasError('required')">Username is required.</mat-error>
                        </mat-form-field>
                    </div>

                    <mat-divider> </mat-divider>
                    <br/>
                    <mat-card-subtitle>Account Information</mat-card-subtitle>

                    <div class="form-control">
                        <mat-form-field>
                            <input matInput placeholder="Enter your e-mail address" type="email" formControlName="emailAddress" required />
                            <mat-error *ngIf="registrationForm.controls['emailAddress'].hasError('email')">Invalid Email.</mat-error>
                            <mat-error *ngIf="registrationForm.controls['emailAddress'].hasError('required')">Username is required.</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="form-control">
                        <mat-form-field>
                            <input placeholder="Enter your password" type="password" formControlName="passwordHash" matInput required />
                            <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                                </button>

                            <mat-error *ngIf="registrationForm.controls['passwordHash'].hasError('required')">Password is required.</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="form-control">
                        <mat-form-field>
                            <input placeholder="Confirm password" type="password" formControlName="confirmPasswordHash" matInput required />
                            <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                                    </button>
                            <mat-error *ngIf="registrationForm.controls['confirmPasswordHash'].hasError('required')">Confirm Password is required.</mat-error>
                        </mat-form-field>
                    </div>
                </form>
            </mat-card-content>
            <mat-card-actions>
                <button class="btn-block" (click)="register()" [disabled]="!registrationForm.valid" mat-stroked-button color="accent" class="btn-block">Submit</button><br/>
                <button class="btn-block" routerLink="/" mat-stroked-button color="primary" class="btn-block">Cancel</button>
            </mat-card-actions>
        </mat-card>
    </div>

    <div class="verification-card" *ngIf="forVerification && hide">
        <mat-card>
            <mat-card-header>
                <mat-card-title>Registration Successful!</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <p>
                    {{ verificationMessage }}
                </p>
            </mat-card-content>
            <mat-card-footer>
                <p>You will be redirected to the login page in a few moments..</p>
            </mat-card-footer>
        </mat-card>
    </div>

    <br/><br/>

    <mat-progress-bar *ngIf="!hide" mode="query">
    </mat-progress-bar>

</div>